CC=@CC@
prefix=@prefix@
exec_prefix=@exec_prefix@
INSTALL=@INSTALL@
DESTDIR=@libexecdir@
OBJS=snmp_bulkget.o utils.o
TARGET=check_interfaces


CPPFLAGS=@CPPFLAGS@
LDFLAGS=@LDFLAGS@ -lrt
CFLAGS=@CFLAGS@ @DEFS@
# shared library flags (assumes gcc)
# DLFLAGS=-fPIC -shared
BUILDLIBS=@SNMP_LIBS@ @LIBS@

.PHONY: debug clean distclean all install
all: build
build: $(TARGET)

$(TARGET): $(OBJS)
	$(CC) -o $(TARGET) $(OBJS) $(LDFLAGS) $(BUILDLIBS)

debug: CFLAGS += -DDEBUG -g -O0
debug: LDFLAGS += -g -O0
debug: build

clean:
	rm -f $(OBJS) $(TARGET)

distclean: clean
	rm -f config.log config.status Makefile

install: all
	$(INSTALL) -s -t $(DESTDIR) $(TARGET)
